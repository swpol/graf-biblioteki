"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const h=require("react/jsx-runtime"),l=require("react"),u=require("@embedpdf/core/react"),p=require("@embedpdf/plugin-viewport"),f=()=>u.usePlugin(p.ViewportPlugin.id),g=()=>u.useCapability(p.ViewportPlugin.id);function d(){const{plugin:t}=f(),o=l.useRef(null);return l.useLayoutEffect(()=>{if(!t)return;const e=o.current;if(!e)return;const c=()=>{const r=e.getBoundingClientRect();return{origin:{x:r.left,y:r.top},size:{width:r.width,height:r.height}}};t.registerBoundingRectProvider(c);const s=()=>{t.setViewportScrollMetrics({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})};e.addEventListener("scroll",s);const i=new ResizeObserver(()=>{t.setViewportResizeMetrics({width:e.offsetWidth,height:e.offsetHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight})});i.observe(e);const n=t.onScrollRequest(({x:r,y:w,behavior:a="auto"})=>{requestAnimationFrame(()=>{e.scrollTo({left:r,top:w,behavior:a})})});return()=>{t.registerBoundingRectProvider(null),e.removeEventListener("scroll",s),i.disconnect(),n()}},[t]),o}function v({children:t,...o}){const[e,c]=l.useState(0),s=d(),{provides:i}=g();l.useEffect(()=>{i&&c(i.getViewportGap())},[i]);const{style:n,...r}=o;return h.jsx("div",{...r,ref:s,style:{...typeof n=="object"?n:{},padding:`${e}px`},children:t})}exports.Viewport=v;exports.useViewportCapability=g;exports.useViewportPlugin=f;exports.useViewportRef=d;
//# sourceMappingURL=index.cjs.map
