"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const i=require("preact"),O=require("preact/hooks"),C=require("../rotate-plugin-CF-8rOeB.cjs"),S=require("../jsxRuntime.module-BSRTsKji.cjs");function A(e,t){for(var o in t)e[o]=t[o];return e}function f(e,t){for(var o in e)if(o!=="__source"&&!(o in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function d(e,t){this.props=e,this.context=t}(d.prototype=new i.Component).isPureReactComponent=!0,d.prototype.shouldComponentUpdate=function(e,t){return f(this.props,e)||f(this.state,t)};var v=i.options.__b;i.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),v&&v(e)};var N=i.options.__e;i.options.__e=function(e,t,o,r){if(e.then){for(var n,l=t;l=l.__;)if((n=l.__c)&&n.__c)return t.__e==null&&(t.__e=o.__e,t.__k=o.__k),n.__c(e,t)}N(e,t,o,r)};var h=i.options.unmount;function w(e,t,o){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=A({},e)).__c!=null&&(e.__c.__P===o&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return w(r,t,o)})),e}function k(e,t,o){return e&&o&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return k(r,t,o)}),e.__c&&e.__c.__P===t&&(e.__e&&o.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=o)),e}function p(){this.__u=0,this.o=null,this.__b=null}function R(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function c(){this.i=null,this.l=null}i.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),h&&h(e)},(p.prototype=new i.Component).__c=function(e,t){var o=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(o);var n=R(r.__v),l=!1,u=function(){l||(l=!0,o.__R=null,n?n(_):_())};o.__R=u;var _=function(){if(!--r.__u){if(r.state.__a){var a=r.state.__a;r.__v.__k[0]=k(a,a.__c.__P,a.__c.__O)}var s;for(r.setState({__a:r.__b=null});s=r.o.pop();)s.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(u,u)},p.prototype.componentWillUnmount=function(){this.o=[]},p.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=w(this.__b,o,r.__O=r.__P)}this.__b=null}var n=t.__a&&i.createElement(i.Fragment,null,e.fallback);return n&&(n.__u&=-33),[i.createElement(i.Fragment,null,t.__a?null:e.children),n]};var y=function(e,t,o){if(++o[1]===o[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(o=e.i;o;){for(;o.length>3;)o.pop()();if(o[1]<o[0])break;e.i=o=o[2]}};(c.prototype=new i.Component).__a=function(e){var t=this,o=R(t.__v),r=t.l.get(e);return r[0]++,function(n){var l=function(){t.props.revealOrder?(r.push(n),y(t,e,r)):n()};o?o(l):l()}},c.prototype.render=function(e){this.i=null,this.l=new Map;var t=i.toChildArray(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var o=t.length;o--;)this.l.set(t[o],this.i=[1,0,this.i]);return e.children},c.prototype.componentDidUpdate=c.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,o){y(e,o,t)})};var U=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,L=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,F=/[A-Z0-9]/g,j=typeof document<"u",V=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};i.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(i.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var m=i.options.event;function W(){}function q(){return this.cancelBubble}function D(){return this.defaultPrevented}i.options.event=function(e){return m&&(e=m(e)),e.persist=W,e.isPropagationStopped=q,e.isDefaultPrevented=D,e.nativeEvent=e};var H={enumerable:!1,configurable:!0,get:function(){return this.class}},g=i.options.vnode;i.options.vnode=function(e){typeof e.type=="string"&&function(t){var o=t.props,r=t.type,n={},l=r.indexOf("-")===-1;for(var u in o){var _=o[u];if(!(u==="value"&&"defaultValue"in o&&_==null||j&&u==="children"&&r==="noscript"||u==="class"||u==="className")){var a=u.toLowerCase();u==="defaultValue"&&"value"in o&&o.value==null?u="value":u==="download"&&_===!0?_="":a==="translate"&&_==="no"?_=!1:a[0]==="o"&&a[1]==="n"?a==="ondoubleclick"?u="ondblclick":a!=="onchange"||r!=="input"&&r!=="textarea"||V(o.type)?a==="onfocus"?u="onfocusin":a==="onblur"?u="onfocusout":$.test(u)&&(u=a):a=u="oninput":l&&L.test(u)?u=u.replace(F,"-$&").toLowerCase():_===null&&(_=void 0),a==="oninput"&&n[u=a]&&(u="oninputCapture"),n[u]=_}}r=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=i.toChildArray(o.children).forEach(function(s){s.props.selected=n.value.indexOf(s.props.value)!=-1})),r=="select"&&n.defaultValue!=null&&(n.value=i.toChildArray(o.children).forEach(function(s){s.props.selected=n.multiple?n.defaultValue.indexOf(s.props.value)!=-1:n.defaultValue==s.props.value})),o.class&&!o.className?(n.class=o.class,Object.defineProperty(n,"className",H)):(o.className&&!o.class||o.class&&o.className)&&(n.class=n.className=o.className),t.props=n}(e),e.$$typeof=U,g&&g(e)};var b=i.options.__r;i.options.__r=function(e){b&&b(e),e.__c};var P=i.options.diffed;i.options.diffed=function(e){P&&P(e);var t=e.props,o=e.__e;o!=null&&e.type==="textarea"&&"value"in t&&t.value!==o.value&&(o.value=t.value==null?"":t.value)};const M=i.createContext({registry:null,isInitializing:!0,pluginsReady:!1});function z(){const e=O.useContext(M);if(e===void 0)throw new Error("useCapability must be used within a PDFContext.Provider");const{registry:t,isInitializing:o}=e;if(o)return e;if(t===null)throw new Error("PDF registry failed to initialize properly");return e}function x(e){const{registry:t}=z();if(t===null)return{plugin:null,isLoading:!0,ready:new Promise(()=>{})};const o=t.getPlugin(e);if(!o)throw new Error(`Plugin ${e} not found`);return{plugin:o,isLoading:!1,ready:o.ready()}}function T(e){const{plugin:t,isLoading:o,ready:r}=x(e);if(!t)return{provides:null,isLoading:o,ready:r};if(!t.provides)throw new Error(`Plugin ${e} does not provide a capability`);return{provides:t.provides(),isLoading:o,ready:r}}const B=()=>x(C.RotatePlugin.id),E=()=>T(C.RotatePlugin.id);function I({children:e,pageSize:t,...o}){const{provides:r}=E(),n=(r==null?void 0:r.getMatrix({w:t.width,h:t.height}))||"matrix(1, 0, 0, 1, 0, 0)";return S.u("div",{...o,style:{position:"absolute",transformOrigin:"0 0",transform:n},children:e})}exports.Rotate=I;exports.useRotateCapability=E;exports.useRotatePlugin=B;
//# sourceMappingURL=index.cjs.map
