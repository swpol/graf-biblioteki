{"version":3,"file":"index.js","sources":["../../../core/dist/react/index.js","../../src/react/hooks/use-selection.ts","../../../../node_modules/.pnpm/preact@10.26.9/node_modules/preact/compat/dist/compat.module.js","../../../plugin-interaction-manager/dist/react/index.js","../../src/react/components/selection-layer.tsx","../../src/react/components/copy-to-clipboard.tsx"],"sourcesContent":["import { Component as p, options as s, createElement as P, Fragment as w, toChildArray as g, createContext as F } from \"preact\";\nimport { useState as f, useRef as L, useEffect as h, useContext as W } from \"preact/hooks\";\nimport { u as H } from \"../jsxRuntime.module-Bzuv3cXw.js\";\nimport { P as $, a as j } from \"../math-ChSRQF3r.js\";\nfunction B(e, r) {\n  for (var t in r) e[t] = r[t];\n  return e;\n}\nfunction S(e, r) {\n  for (var t in e) if (t !== \"__source\" && !(t in r)) return !0;\n  for (var o in r) if (o !== \"__source\" && e[o] !== r[o]) return !0;\n  return !1;\n}\nfunction k(e, r) {\n  this.props = e, this.context = r;\n}\n(k.prototype = new p()).isPureReactComponent = !0, k.prototype.shouldComponentUpdate = function(e, r) {\n  return S(this.props, e) || S(this.state, r);\n};\nvar C = s.__b;\ns.__b = function(e) {\n  e.type && e.type.__f && e.ref && (e.props.ref = e.ref, e.ref = null), C && C(e);\n};\nvar M = s.__e;\ns.__e = function(e, r, t, o) {\n  if (e.then) {\n    for (var n, u = r; u = u.__; ) if ((n = u.__c) && n.__c) return r.__e == null && (r.__e = t.__e, r.__k = t.__k), n.__c(e, r);\n  }\n  M(e, r, t, o);\n};\nvar E = s.unmount;\nfunction U(e, r, t) {\n  return e && (e.__c && e.__c.__H && (e.__c.__H.__.forEach(function(o) {\n    typeof o.__c == \"function\" && o.__c();\n  }), e.__c.__H = null), (e = B({}, e)).__c != null && (e.__c.__P === t && (e.__c.__P = r), e.__c.__e = !0, e.__c = null), e.__k = e.__k && e.__k.map(function(o) {\n    return U(o, r, t);\n  })), e;\n}\nfunction z(e, r, t) {\n  return e && t && (e.__v = null, e.__k = e.__k && e.__k.map(function(o) {\n    return z(o, r, t);\n  }), e.__c && e.__c.__P === r && (e.__e && t.appendChild(e.__e), e.__c.__e = !0, e.__c.__P = t)), e;\n}\nfunction y() {\n  this.__u = 0, this.o = null, this.__b = null;\n}\nfunction A(e) {\n  var r = e.__.__c;\n  return r && r.__a && r.__a(e);\n}\nfunction v() {\n  this.i = null, this.l = null;\n}\ns.unmount = function(e) {\n  var r = e.__c;\n  r && r.__R && r.__R(), r && 32 & e.__u && (e.type = null), E && E(e);\n}, (y.prototype = new p()).__c = function(e, r) {\n  var t = r.__c, o = this;\n  o.o == null && (o.o = []), o.o.push(t);\n  var n = A(o.__v), u = !1, i = function() {\n    u || (u = !0, t.__R = null, n ? n(l) : l());\n  };\n  t.__R = i;\n  var l = function() {\n    if (!--o.__u) {\n      if (o.state.__a) {\n        var a = o.state.__a;\n        o.__v.__k[0] = z(a, a.__c.__P, a.__c.__O);\n      }\n      var _;\n      for (o.setState({ __a: o.__b = null }); _ = o.o.pop(); ) _.forceUpdate();\n    }\n  };\n  o.__u++ || 32 & r.__u || o.setState({ __a: o.__b = o.__v.__k[0] }), e.then(i, i);\n}, y.prototype.componentWillUnmount = function() {\n  this.o = [];\n}, y.prototype.render = function(e, r) {\n  if (this.__b) {\n    if (this.__v.__k) {\n      var t = document.createElement(\"div\"), o = this.__v.__k[0].__c;\n      this.__v.__k[0] = U(this.__b, t, o.__O = o.__P);\n    }\n    this.__b = null;\n  }\n  var n = r.__a && P(w, null, e.fallback);\n  return n && (n.__u &= -33), [P(w, null, r.__a ? null : e.children), n];\n};\nvar R = function(e, r, t) {\n  if (++t[1] === t[0] && e.l.delete(r), e.props.revealOrder && (e.props.revealOrder[0] !== \"t\" || !e.l.size)) for (t = e.i; t; ) {\n    for (; t.length > 3; ) t.pop()();\n    if (t[1] < t[0]) break;\n    e.i = t = t[2];\n  }\n};\n(v.prototype = new p()).__a = function(e) {\n  var r = this, t = A(r.__v), o = r.l.get(e);\n  return o[0]++, function(n) {\n    var u = function() {\n      r.props.revealOrder ? (o.push(n), R(r, e, o)) : n();\n    };\n    t ? t(u) : u();\n  };\n}, v.prototype.render = function(e) {\n  this.i = null, this.l = /* @__PURE__ */ new Map();\n  var r = g(e.children);\n  e.revealOrder && e.revealOrder[0] === \"b\" && r.reverse();\n  for (var t = r.length; t--; ) this.l.set(r[t], this.i = [1, 0, this.i]);\n  return e.children;\n}, v.prototype.componentDidUpdate = v.prototype.componentDidMount = function() {\n  var e = this;\n  this.l.forEach(function(r, t) {\n    R(e, t, r);\n  });\n};\nvar T = typeof Symbol < \"u\" && Symbol.for && Symbol.for(\"react.element\") || 60103, q = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/, I = /^on(Ani|Tra|Tou|BeforeInp|Compo)/, Z = /[A-Z0-9]/g, G = typeof document < \"u\", J = function(e) {\n  return (typeof Symbol < \"u\" && typeof Symbol() == \"symbol\" ? /fil|che|rad/ : /fil|che|ra/).test(e);\n};\np.prototype.isReactComponent = {}, [\"componentWillMount\", \"componentWillReceiveProps\", \"componentWillUpdate\"].forEach(function(e) {\n  Object.defineProperty(p.prototype, e, { configurable: !0, get: function() {\n    return this[\"UNSAFE_\" + e];\n  }, set: function(r) {\n    Object.defineProperty(this, e, { configurable: !0, writable: !0, value: r });\n  } });\n});\nvar x = s.event;\nfunction K() {\n}\nfunction Q() {\n  return this.cancelBubble;\n}\nfunction X() {\n  return this.defaultPrevented;\n}\ns.event = function(e) {\n  return x && (e = x(e)), e.persist = K, e.isPropagationStopped = Q, e.isDefaultPrevented = X, e.nativeEvent = e;\n};\nvar Y = { enumerable: !1, configurable: !0, get: function() {\n  return this.class;\n} }, O = s.vnode;\ns.vnode = function(e) {\n  typeof e.type == \"string\" && function(r) {\n    var t = r.props, o = r.type, n = {}, u = o.indexOf(\"-\") === -1;\n    for (var i in t) {\n      var l = t[i];\n      if (!(i === \"value\" && \"defaultValue\" in t && l == null || G && i === \"children\" && o === \"noscript\" || i === \"class\" || i === \"className\")) {\n        var a = i.toLowerCase();\n        i === \"defaultValue\" && \"value\" in t && t.value == null ? i = \"value\" : i === \"download\" && l === !0 ? l = \"\" : a === \"translate\" && l === \"no\" ? l = !1 : a[0] === \"o\" && a[1] === \"n\" ? a === \"ondoubleclick\" ? i = \"ondblclick\" : a !== \"onchange\" || o !== \"input\" && o !== \"textarea\" || J(t.type) ? a === \"onfocus\" ? i = \"onfocusin\" : a === \"onblur\" ? i = \"onfocusout\" : I.test(i) && (i = a) : a = i = \"oninput\" : u && q.test(i) ? i = i.replace(Z, \"-$&\").toLowerCase() : l === null && (l = void 0), a === \"oninput\" && n[i = a] && (i = \"oninputCapture\"), n[i] = l;\n      }\n    }\n    o == \"select\" && n.multiple && Array.isArray(n.value) && (n.value = g(t.children).forEach(function(_) {\n      _.props.selected = n.value.indexOf(_.props.value) != -1;\n    })), o == \"select\" && n.defaultValue != null && (n.value = g(t.children).forEach(function(_) {\n      _.props.selected = n.multiple ? n.defaultValue.indexOf(_.props.value) != -1 : n.defaultValue == _.props.value;\n    })), t.class && !t.className ? (n.class = t.class, Object.defineProperty(n, \"className\", Y)) : (t.className && !t.class || t.class && t.className) && (n.class = n.className = t.className), r.props = n;\n  }(e), e.$$typeof = T, O && O(e);\n};\nvar D = s.__r;\ns.__r = function(e) {\n  D && D(e), e.__c;\n};\nvar N = s.diffed;\ns.diffed = function(e) {\n  N && N(e);\n  var r = e.props, t = e.__e;\n  t != null && e.type === \"textarea\" && \"value\" in r && r.value !== t.value && (t.value = r.value == null ? \"\" : r.value);\n};\nconst V = F({\n  registry: null,\n  isInitializing: !0,\n  pluginsReady: !1\n});\nfunction ue({ engine: e, onInitialized: r, plugins: t, children: o }) {\n  const [n, u] = f(null), [i, l] = f(!0), [a, _] = f(!1), d = L(r);\n  return h(() => {\n    d.current = r;\n  }, [r]), h(() => {\n    const c = new $(e);\n    return c.registerPluginBatch(t), (async () => {\n      var b;\n      await c.initialize(), !c.isDestroyed() && (await ((b = d.current) == null ? void 0 : b.call(d, c)), !c.isDestroyed() && (c.pluginsReady().then(() => {\n        c.isDestroyed() || _(!0);\n      }), u(c), l(!1)));\n    })().catch(console.error), () => {\n      c.destroy(), u(null), l(!0), _(!1);\n    };\n  }, [e, t]), /* @__PURE__ */ H(V.Provider, { value: { registry: n, isInitializing: i, pluginsReady: a }, children: typeof o == \"function\" ? o({ registry: n, isInitializing: i, pluginsReady: a }) : o });\n}\nfunction m() {\n  const e = W(V);\n  if (e === void 0)\n    throw new Error(\"useCapability must be used within a PDFContext.Provider\");\n  const { registry: r, isInitializing: t } = e;\n  if (t)\n    return e;\n  if (r === null)\n    throw new Error(\"PDF registry failed to initialize properly\");\n  return e;\n}\nfunction ee(e) {\n  const { registry: r } = m();\n  if (r === null)\n    return {\n      plugin: null,\n      isLoading: !0,\n      ready: new Promise(() => {\n      })\n    };\n  const t = r.getPlugin(e);\n  if (!t)\n    throw new Error(`Plugin ${e} not found`);\n  return {\n    plugin: t,\n    isLoading: !1,\n    ready: t.ready()\n  };\n}\nfunction ae(e) {\n  const { plugin: r, isLoading: t, ready: o } = ee(e);\n  if (!r)\n    return {\n      provides: null,\n      isLoading: t,\n      ready: o\n    };\n  if (!r.provides)\n    throw new Error(`Plugin ${e} does not provide a capability`);\n  return {\n    provides: r.provides(),\n    isLoading: t,\n    ready: o\n  };\n}\nfunction le() {\n  const { registry: e } = m(), [r, t] = f(null);\n  return h(() => {\n    if (!e) return;\n    t(e.getStore().getState());\n    const o = e.getStore().subscribe((n, u) => {\n      t(u);\n    });\n    return () => o();\n  }, [e]), r;\n}\nfunction se() {\n  const { registry: e } = m(), [r, t] = f(null);\n  return h(() => {\n    if (!e) return;\n    const o = e.getStore();\n    t(o.getState().core);\n    const n = o.subscribe((u, i, l) => {\n      o.isCoreAction(u) && !j(i.core, l.core) && t(i.core);\n    });\n    return () => n();\n  }, [e]), r;\n}\nexport {\n  ue as EmbedPDF,\n  V as PDFContext,\n  ae as useCapability,\n  se as useCoreState,\n  ee as usePlugin,\n  m as useRegistry,\n  le as useStoreState\n};\n//# sourceMappingURL=index.js.map\n","import { useCapability, usePlugin } from '@embedpdf/core/react';\nimport { SelectionPlugin } from '@embedpdf/plugin-selection';\n\nexport const useSelectionCapability = () => useCapability<SelectionPlugin>(SelectionPlugin.id);\nexport const useSelectionPlugin = () => usePlugin<SelectionPlugin>(SelectionPlugin.id);\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useLayoutEffect as s,useEffect as h,useCallback as v,useContext as d,useDebugValue as m,useId as p,useImperativeHandle as y,useMemo as _,useReducer as b,useRef as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function E(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n,t){var e=t(),r=a({t:{__:e,u:t}}),u=r[0].t,o=r[1];return s(function(){u.__=e,u.u=t,x(u)&&o({t:u})},[n,e,t]),h(function(){return x(u)&&o({t:u}),n(function(){x(u)&&o({t:u})})},[n]),e}function x(n){var t,e,r=n.u,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}function R(n){n()}function w(n){return n}function k(){return[!1,R]}var I=s;function N(n,t){this.props=n,this.context=t}function M(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:E(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(N.prototype=new n).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(n,t){return E(this.props,n)||E(this.state,t)};var T=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),T&&T(n)};var A=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function D(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=A,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var L=function(n,t){return null==n?null:r(r(n).map(t))},O={map:L,forEach:L,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},F=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);F(n,t,e,r)};var U=e.unmount;function V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function P(){this.__u=0,this.o=null,this.__b=null}function j(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function z(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function B(){this.i=null,this.l=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),U&&U(n)},(P.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=j(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},P.prototype.componentWillUnmount=function(){this.o=[]},P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};function Z(n){return this.getChildContext=function(){return n.context},n.children}function Y(n){var e=this,r=n.h;if(e.componentWillUnmount=function(){o(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),!e.v){for(var u=e.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:u.__m},contains:function(){return!0},insertBefore:function(n,t){this.childNodes.push(n),e.h.insertBefore(n,t)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}}o(t(Z,{context:e.context},n.__v),e.v)}function $(n,e){var r=t(Y,{__v:n,h:e});return r.containerInfo=e,r}(B.prototype=new n).__a=function(n){var t=this,e=j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),H(t,n,r)):u()};e?e(o):o()}},B.prototype.render=function(n){this.i=null,this.l=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){H(n,e,t)})};var q=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,K=/[A-Z0-9]/g,Q=\"undefined\"!=typeof document,X=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function tn(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=e.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}e.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var ln,cn={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var l=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==l||Q&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var c=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":\"translate\"===c&&\"no\"===l?l=!1:\"o\"===c[0]&&\"n\"===c[1]?\"ondoubleclick\"===c?i=\"ondblclick\":\"onchange\"!==c||\"input\"!==e&&\"textarea\"!==e||X(t.type)?\"onfocus\"===c?i=\"onfocusin\":\"onblur\"===c?i=\"onfocusout\":J.test(i)&&(i=c):c=i=\"oninput\":o&&G.test(i)?i=i.replace(K,\"-$&\").toLowerCase():null===l&&(l=void 0),\"oninput\"===c&&u[i=c]&&(i=\"oninputCapture\"),u[i]=l}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",cn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=q,fn&&fn(n)};var an=e.__r;e.__r=function(n){an&&an(n),ln=n.__c};var sn=e.diffed;e.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),ln=null};var hn={ReactCurrentDispatcher:{current:{readContext:function(n){return ln.__n[n.__c].props.value},useCallback:v,useContext:d,useDebugValue:m,useDeferredValue:w,useEffect:h,useId:p,useImperativeHandle:y,useInsertionEffect:I,useLayoutEffect:s,useMemo:_,useReducer:b,useRef:S,useState:a,useSyncExternalStore:C,useTransition:k}}},vn=\"18.3.1\";function dn(n){return t.bind(null,n)}function mn(n){return!!n&&n.$$typeof===q}function pn(n){return mn(n)&&n.type===u}function yn(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function _n(n){return mn(n)?f.apply(null,arguments):n}function bn(n){return!!n.__k&&(o(null,n),!0)}function Sn(n){return n&&(n.base||1===n.nodeType&&n)||null}var gn=function(n,t){return n(t)},En=function(n,t){return n(t)},Cn=u,xn=mn,Rn={useState:a,useId:p,useReducer:b,useEffect:h,useLayoutEffect:s,useInsertionEffect:I,useTransition:k,useDeferredValue:w,useSyncExternalStore:C,startTransition:R,useRef:S,useImperativeHandle:y,useMemo:_,useCallback:v,useContext:d,useDebugValue:m,version:\"18.3.1\",Children:O,render:nn,hydrate:tn,unmountComponentAtNode:bn,createPortal:$,createElement:t,createContext:l,createFactory:dn,cloneElement:_n,createRef:c,Fragment:u,isValidElement:mn,isElement:xn,isFragment:pn,isMemo:yn,findDOMNode:Sn,Component:n,PureComponent:N,memo:M,forwardRef:D,flushSync:En,unstable_batchedUpdates:gn,StrictMode:Cn,Suspense:P,SuspenseList:B,lazy:z,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:hn};export{O as Children,N as PureComponent,Cn as StrictMode,P as Suspense,B as SuspenseList,hn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n as cloneElement,dn as createFactory,$ as createPortal,Rn as default,Sn as findDOMNode,En as flushSync,D as forwardRef,tn as hydrate,xn as isElement,pn as isFragment,yn as isMemo,mn as isValidElement,z as lazy,M as memo,nn as render,R as startTransition,bn as unmountComponentAtNode,gn as unstable_batchedUpdates,w as useDeferredValue,I as useInsertionEffect,C as useSyncExternalStore,k as useTransition,vn as version};\n//# sourceMappingURL=compat.module.js.map\n","import { Component as s, options as l, createElement as h, Fragment as y, toChildArray as f, createContext as oe } from \"preact\";\nimport { useContext as ue, useState as F, useEffect as m, useRef as T, useCallback as ie } from \"preact/hooks\";\nimport { I as Z, i as _e } from \"../reducer-Dda407Go.js\";\nimport { u as k } from \"../jsxRuntime.module-D89ud_rY.js\";\nimport { c as G, r as le } from \"../index-Q-vI1_iw.js\";\nfunction ae(e, n) {\n  for (var t in n) e[t] = n[t];\n  return e;\n}\nfunction E(e, n) {\n  for (var t in e) if (t !== \"__source\" && !(t in n)) return !0;\n  for (var r in n) if (r !== \"__source\" && e[r] !== n[r]) return !0;\n  return !1;\n}\nfunction O(e, n) {\n  this.props = e, this.context = n;\n}\n(O.prototype = new s()).isPureReactComponent = !0, O.prototype.shouldComponentUpdate = function(e, n) {\n  return E(this.props, e) || E(this.state, n);\n};\nvar S = l.__b;\nl.__b = function(e) {\n  e.type && e.type.__f && e.ref && (e.props.ref = e.ref, e.ref = null), S && S(e);\n};\nvar ce = l.__e;\nl.__e = function(e, n, t, r) {\n  if (e.then) {\n    for (var o, _ = n; _ = _.__; ) if ((o = _.__c) && o.__c) return n.__e == null && (n.__e = t.__e, n.__k = t.__k), o.__c(e, n);\n  }\n  ce(e, n, t, r);\n};\nvar I = l.unmount;\nfunction X(e, n, t) {\n  return e && (e.__c && e.__c.__H && (e.__c.__H.__.forEach(function(r) {\n    typeof r.__c == \"function\" && r.__c();\n  }), e.__c.__H = null), (e = ae({}, e)).__c != null && (e.__c.__P === t && (e.__c.__P = n), e.__c.__e = !0, e.__c = null), e.__k = e.__k && e.__k.map(function(r) {\n    return X(r, n, t);\n  })), e;\n}\nfunction q(e, n, t) {\n  return e && t && (e.__v = null, e.__k = e.__k && e.__k.map(function(r) {\n    return q(r, n, t);\n  }), e.__c && e.__c.__P === n && (e.__e && t.appendChild(e.__e), e.__c.__e = !0, e.__c.__P = t)), e;\n}\nfunction b() {\n  this.__u = 0, this.o = null, this.__b = null;\n}\nfunction J(e) {\n  var n = e.__.__c;\n  return n && n.__a && n.__a(e);\n}\nfunction v() {\n  this.i = null, this.l = null;\n}\nl.unmount = function(e) {\n  var n = e.__c;\n  n && n.__R && n.__R(), n && 32 & e.__u && (e.type = null), I && I(e);\n}, (b.prototype = new s()).__c = function(e, n) {\n  var t = n.__c, r = this;\n  r.o == null && (r.o = []), r.o.push(t);\n  var o = J(r.__v), _ = !1, u = function() {\n    _ || (_ = !0, t.__R = null, o ? o(a) : a());\n  };\n  t.__R = u;\n  var a = function() {\n    if (!--r.__u) {\n      if (r.state.__a) {\n        var i = r.state.__a;\n        r.__v.__k[0] = q(i, i.__c.__P, i.__c.__O);\n      }\n      var c;\n      for (r.setState({ __a: r.__b = null }); c = r.o.pop(); ) c.forceUpdate();\n    }\n  };\n  r.__u++ || 32 & n.__u || r.setState({ __a: r.__b = r.__v.__k[0] }), e.then(u, u);\n}, b.prototype.componentWillUnmount = function() {\n  this.o = [];\n}, b.prototype.render = function(e, n) {\n  if (this.__b) {\n    if (this.__v.__k) {\n      var t = document.createElement(\"div\"), r = this.__v.__k[0].__c;\n      this.__v.__k[0] = X(this.__b, t, r.__O = r.__P);\n    }\n    this.__b = null;\n  }\n  var o = n.__a && h(y, null, e.fallback);\n  return o && (o.__u &= -33), [h(y, null, n.__a ? null : e.children), o];\n};\nvar R = function(e, n, t) {\n  if (++t[1] === t[0] && e.l.delete(n), e.props.revealOrder && (e.props.revealOrder[0] !== \"t\" || !e.l.size)) for (t = e.i; t; ) {\n    for (; t.length > 3; ) t.pop()();\n    if (t[1] < t[0]) break;\n    e.i = t = t[2];\n  }\n};\n(v.prototype = new s()).__a = function(e) {\n  var n = this, t = J(n.__v), r = n.l.get(e);\n  return r[0]++, function(o) {\n    var _ = function() {\n      n.props.revealOrder ? (r.push(o), R(n, e, r)) : o();\n    };\n    t ? t(_) : _();\n  };\n}, v.prototype.render = function(e) {\n  this.i = null, this.l = /* @__PURE__ */ new Map();\n  var n = f(e.children);\n  e.revealOrder && e.revealOrder[0] === \"b\" && n.reverse();\n  for (var t = n.length; t--; ) this.l.set(n[t], this.i = [1, 0, this.i]);\n  return e.children;\n}, v.prototype.componentDidUpdate = v.prototype.componentDidMount = function() {\n  var e = this;\n  this.l.forEach(function(n, t) {\n    R(e, t, n);\n  });\n};\nvar se = typeof Symbol < \"u\" && Symbol.for && Symbol.for(\"react.element\") || 60103, fe = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/, pe = /^on(Ani|Tra|Tou|BeforeInp|Compo)/, ve = /[A-Z0-9]/g, de = typeof document < \"u\", he = function(e) {\n  return (typeof Symbol < \"u\" && typeof Symbol() == \"symbol\" ? /fil|che|rad/ : /fil|che|ra/).test(e);\n};\ns.prototype.isReactComponent = {}, [\"componentWillMount\", \"componentWillReceiveProps\", \"componentWillUpdate\"].forEach(function(e) {\n  Object.defineProperty(s.prototype, e, { configurable: !0, get: function() {\n    return this[\"UNSAFE_\" + e];\n  }, set: function(n) {\n    Object.defineProperty(this, e, { configurable: !0, writable: !0, value: n });\n  } });\n});\nvar $ = l.event;\nfunction ye() {\n}\nfunction me() {\n  return this.cancelBubble;\n}\nfunction ge() {\n  return this.defaultPrevented;\n}\nl.event = function(e) {\n  return $ && (e = $(e)), e.persist = ye, e.isPropagationStopped = me, e.isDefaultPrevented = ge, e.nativeEvent = e;\n};\nvar be = { enumerable: !1, configurable: !0, get: function() {\n  return this.class;\n} }, N = l.vnode;\nl.vnode = function(e) {\n  typeof e.type == \"string\" && function(n) {\n    var t = n.props, r = n.type, o = {}, _ = r.indexOf(\"-\") === -1;\n    for (var u in t) {\n      var a = t[u];\n      if (!(u === \"value\" && \"defaultValue\" in t && a == null || de && u === \"children\" && r === \"noscript\" || u === \"class\" || u === \"className\")) {\n        var i = u.toLowerCase();\n        u === \"defaultValue\" && \"value\" in t && t.value == null ? u = \"value\" : u === \"download\" && a === !0 ? a = \"\" : i === \"translate\" && a === \"no\" ? a = !1 : i[0] === \"o\" && i[1] === \"n\" ? i === \"ondoubleclick\" ? u = \"ondblclick\" : i !== \"onchange\" || r !== \"input\" && r !== \"textarea\" || he(t.type) ? i === \"onfocus\" ? u = \"onfocusin\" : i === \"onblur\" ? u = \"onfocusout\" : pe.test(u) && (u = i) : i = u = \"oninput\" : _ && fe.test(u) ? u = u.replace(ve, \"-$&\").toLowerCase() : a === null && (a = void 0), i === \"oninput\" && o[u = i] && (u = \"oninputCapture\"), o[u] = a;\n      }\n    }\n    r == \"select\" && o.multiple && Array.isArray(o.value) && (o.value = f(t.children).forEach(function(c) {\n      c.props.selected = o.value.indexOf(c.props.value) != -1;\n    })), r == \"select\" && o.defaultValue != null && (o.value = f(t.children).forEach(function(c) {\n      c.props.selected = o.multiple ? o.defaultValue.indexOf(c.props.value) != -1 : o.defaultValue == c.props.value;\n    })), t.class && !t.className ? (o.class = t.class, Object.defineProperty(o, \"className\", be)) : (t.className && !t.class || t.class && t.className) && (o.class = o.className = t.className), n.props = o;\n  }(e), e.$$typeof = se, N && N(e);\n};\nvar U = l.__r;\nl.__r = function(e) {\n  U && U(e), e.__c;\n};\nvar A = l.diffed;\nl.diffed = function(e) {\n  A && A(e);\n  var n = e.props, t = e.__e;\n  t != null && e.type === \"textarea\" && \"value\" in n && n.value !== t.value && (t.value = n.value == null ? \"\" : n.value);\n};\nconst Pe = oe({\n  registry: null,\n  isInitializing: !0,\n  pluginsReady: !1\n});\nfunction ke() {\n  const e = ue(Pe);\n  if (e === void 0)\n    throw new Error(\"useCapability must be used within a PDFContext.Provider\");\n  const { registry: n, isInitializing: t } = e;\n  if (t)\n    return e;\n  if (n === null)\n    throw new Error(\"PDF registry failed to initialize properly\");\n  return e;\n}\nfunction K(e) {\n  const { registry: n } = ke();\n  if (n === null)\n    return {\n      plugin: null,\n      isLoading: !0,\n      ready: new Promise(() => {\n      })\n    };\n  const t = n.getPlugin(e);\n  if (!t)\n    throw new Error(`Plugin ${e} not found`);\n  return {\n    plugin: t,\n    isLoading: !1,\n    ready: t.ready()\n  };\n}\nfunction Ce(e) {\n  const { plugin: n, isLoading: t, ready: r } = K(e);\n  if (!n)\n    return {\n      provides: null,\n      isLoading: t,\n      ready: r\n    };\n  if (!n.provides)\n    throw new Error(`Plugin ${e} does not provide a capability`);\n  return {\n    provides: n.provides(),\n    isLoading: t,\n    ready: r\n  };\n}\nfunction we(e, n) {\n  for (var t in n) e[t] = n[t];\n  return e;\n}\nfunction M(e, n) {\n  for (var t in e) if (t !== \"__source\" && !(t in n)) return !0;\n  for (var r in n) if (r !== \"__source\" && e[r] !== n[r]) return !0;\n  return !1;\n}\nfunction V(e, n) {\n  this.props = e, this.context = n;\n}\n(V.prototype = new s()).isPureReactComponent = !0, V.prototype.shouldComponentUpdate = function(e, n) {\n  return M(this.props, e) || M(this.state, n);\n};\nvar L = l.__b;\nl.__b = function(e) {\n  e.type && e.type.__f && e.ref && (e.props.ref = e.ref, e.ref = null), L && L(e);\n};\nvar xe = l.__e;\nl.__e = function(e, n, t, r) {\n  if (e.then) {\n    for (var o, _ = n; _ = _.__; ) if ((o = _.__c) && o.__c) return n.__e == null && (n.__e = t.__e, n.__k = t.__k), o.__c(e, n);\n  }\n  xe(e, n, t, r);\n};\nvar H = l.unmount;\nfunction Q(e, n, t) {\n  return e && (e.__c && e.__c.__H && (e.__c.__H.__.forEach(function(r) {\n    typeof r.__c == \"function\" && r.__c();\n  }), e.__c.__H = null), (e = we({}, e)).__c != null && (e.__c.__P === t && (e.__c.__P = n), e.__c.__e = !0, e.__c = null), e.__k = e.__k && e.__k.map(function(r) {\n    return Q(r, n, t);\n  })), e;\n}\nfunction Y(e, n, t) {\n  return e && t && (e.__v = null, e.__k = e.__k && e.__k.map(function(r) {\n    return Y(r, n, t);\n  }), e.__c && e.__c.__P === n && (e.__e && t.appendChild(e.__e), e.__c.__e = !0, e.__c.__P = t)), e;\n}\nfunction P() {\n  this.__u = 0, this.o = null, this.__b = null;\n}\nfunction ee(e) {\n  var n = e.__.__c;\n  return n && n.__a && n.__a(e);\n}\nfunction d() {\n  this.i = null, this.l = null;\n}\nl.unmount = function(e) {\n  var n = e.__c;\n  n && n.__R && n.__R(), n && 32 & e.__u && (e.type = null), H && H(e);\n}, (P.prototype = new s()).__c = function(e, n) {\n  var t = n.__c, r = this;\n  r.o == null && (r.o = []), r.o.push(t);\n  var o = ee(r.__v), _ = !1, u = function() {\n    _ || (_ = !0, t.__R = null, o ? o(a) : a());\n  };\n  t.__R = u;\n  var a = function() {\n    if (!--r.__u) {\n      if (r.state.__a) {\n        var i = r.state.__a;\n        r.__v.__k[0] = Y(i, i.__c.__P, i.__c.__O);\n      }\n      var c;\n      for (r.setState({ __a: r.__b = null }); c = r.o.pop(); ) c.forceUpdate();\n    }\n  };\n  r.__u++ || 32 & n.__u || r.setState({ __a: r.__b = r.__v.__k[0] }), e.then(u, u);\n}, P.prototype.componentWillUnmount = function() {\n  this.o = [];\n}, P.prototype.render = function(e, n) {\n  if (this.__b) {\n    if (this.__v.__k) {\n      var t = document.createElement(\"div\"), r = this.__v.__k[0].__c;\n      this.__v.__k[0] = Q(this.__b, t, r.__O = r.__P);\n    }\n    this.__b = null;\n  }\n  var o = n.__a && h(y, null, e.fallback);\n  return o && (o.__u &= -33), [h(y, null, n.__a ? null : e.children), o];\n};\nvar W = function(e, n, t) {\n  if (++t[1] === t[0] && e.l.delete(n), e.props.revealOrder && (e.props.revealOrder[0] !== \"t\" || !e.l.size)) for (t = e.i; t; ) {\n    for (; t.length > 3; ) t.pop()();\n    if (t[1] < t[0]) break;\n    e.i = t = t[2];\n  }\n};\n(d.prototype = new s()).__a = function(e) {\n  var n = this, t = ee(n.__v), r = n.l.get(e);\n  return r[0]++, function(o) {\n    var _ = function() {\n      n.props.revealOrder ? (r.push(o), W(n, e, r)) : o();\n    };\n    t ? t(_) : _();\n  };\n}, d.prototype.render = function(e) {\n  this.i = null, this.l = /* @__PURE__ */ new Map();\n  var n = f(e.children);\n  e.revealOrder && e.revealOrder[0] === \"b\" && n.reverse();\n  for (var t = n.length; t--; ) this.l.set(n[t], this.i = [1, 0, this.i]);\n  return e.children;\n}, d.prototype.componentDidUpdate = d.prototype.componentDidMount = function() {\n  var e = this;\n  this.l.forEach(function(n, t) {\n    W(e, t, n);\n  });\n};\nvar Ee = typeof Symbol < \"u\" && Symbol.for && Symbol.for(\"react.element\") || 60103, Oe = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/, Se = /^on(Ani|Tra|Tou|BeforeInp|Compo)/, Ie = /[A-Z0-9]/g, Re = typeof document < \"u\", $e = function(e) {\n  return (typeof Symbol < \"u\" && typeof Symbol() == \"symbol\" ? /fil|che|rad/ : /fil|che|ra/).test(e);\n};\ns.prototype.isReactComponent = {}, [\"componentWillMount\", \"componentWillReceiveProps\", \"componentWillUpdate\"].forEach(function(e) {\n  Object.defineProperty(s.prototype, e, { configurable: !0, get: function() {\n    return this[\"UNSAFE_\" + e];\n  }, set: function(n) {\n    Object.defineProperty(this, e, { configurable: !0, writable: !0, value: n });\n  } });\n});\nvar z = l.event;\nfunction Ne() {\n}\nfunction Ue() {\n  return this.cancelBubble;\n}\nfunction Ae() {\n  return this.defaultPrevented;\n}\nl.event = function(e) {\n  return z && (e = z(e)), e.persist = Ne, e.isPropagationStopped = Ue, e.isDefaultPrevented = Ae, e.nativeEvent = e;\n};\nvar Me = { enumerable: !1, configurable: !0, get: function() {\n  return this.class;\n} }, D = l.vnode;\nl.vnode = function(e) {\n  typeof e.type == \"string\" && function(n) {\n    var t = n.props, r = n.type, o = {}, _ = r.indexOf(\"-\") === -1;\n    for (var u in t) {\n      var a = t[u];\n      if (!(u === \"value\" && \"defaultValue\" in t && a == null || Re && u === \"children\" && r === \"noscript\" || u === \"class\" || u === \"className\")) {\n        var i = u.toLowerCase();\n        u === \"defaultValue\" && \"value\" in t && t.value == null ? u = \"value\" : u === \"download\" && a === !0 ? a = \"\" : i === \"translate\" && a === \"no\" ? a = !1 : i[0] === \"o\" && i[1] === \"n\" ? i === \"ondoubleclick\" ? u = \"ondblclick\" : i !== \"onchange\" || r !== \"input\" && r !== \"textarea\" || $e(t.type) ? i === \"onfocus\" ? u = \"onfocusin\" : i === \"onblur\" ? u = \"onfocusout\" : Se.test(u) && (u = i) : i = u = \"oninput\" : _ && Oe.test(u) ? u = u.replace(Ie, \"-$&\").toLowerCase() : a === null && (a = void 0), i === \"oninput\" && o[u = i] && (u = \"oninputCapture\"), o[u] = a;\n      }\n    }\n    r == \"select\" && o.multiple && Array.isArray(o.value) && (o.value = f(t.children).forEach(function(c) {\n      c.props.selected = o.value.indexOf(c.props.value) != -1;\n    })), r == \"select\" && o.defaultValue != null && (o.value = f(t.children).forEach(function(c) {\n      c.props.selected = o.multiple ? o.defaultValue.indexOf(c.props.value) != -1 : o.defaultValue == c.props.value;\n    })), t.class && !t.className ? (o.class = t.class, Object.defineProperty(o, \"className\", Me)) : (t.className && !t.class || t.class && t.className) && (o.class = o.className = t.className), n.props = o;\n  }(e), e.$$typeof = Ee, D && D(e);\n};\nvar j = l.__r;\nl.__r = function(e) {\n  j && j(e), e.__c;\n};\nvar B = l.diffed;\nl.diffed = function(e) {\n  B && B(e);\n  var n = e.props, t = e.__e;\n  t != null && e.type === \"textarea\" && \"value\" in n && n.value !== t.value && (t.value = n.value == null ? \"\" : n.value);\n};\nconst je = () => K(Z.id), p = () => Ce(Z.id);\nfunction Be() {\n  const { provides: e } = p(), [n, t] = F(_e);\n  return m(() => {\n    if (e)\n      return e.onStateChange((r) => {\n        t(r);\n      });\n  }, [e]), {\n    provides: e,\n    state: n\n  };\n}\nfunction Fe() {\n  const { provides: e } = p();\n  return {\n    setCursor: (n, t, r = 0) => {\n      e == null || e.setCursor(n, t, r);\n    },\n    removeCursor: (n) => {\n      e == null || e.removeCursor(n);\n    }\n  };\n}\nfunction Te({ modeId: e, pageIndex: n }) {\n  const { provides: t } = p();\n  return {\n    register: (r, o) => {\n      const _ = (o == null ? void 0 : o.modeId) ?? e, u = (o == null ? void 0 : o.pageIndex) ?? n;\n      return _ ? t == null ? void 0 : t.registerHandlers({\n        modeId: _,\n        handlers: r,\n        pageIndex: u\n      }) : t == null ? void 0 : t.registerAlways({\n        scope: u !== void 0 ? { type: \"page\", pageIndex: u } : { type: \"global\" },\n        handlers: r\n      });\n    }\n  };\n}\nfunction Ve() {\n  const { provides: e } = p(), [n, t] = F(() => {\n    const r = e == null ? void 0 : e.getActiveInteractionMode();\n    return (r == null ? void 0 : r.scope) === \"page\" && !!r.exclusive;\n  });\n  return m(() => {\n    if (e)\n      return e.onModeChange(() => {\n        const r = e.getActiveInteractionMode();\n        t((r == null ? void 0 : r.scope) === \"page\" && !!(r != null && r.exclusive));\n      });\n  }, [e]), n;\n}\nconst Ze = ({\n  children: e,\n  style: n,\n  ...t\n}) => {\n  const r = T(null), { provides: o } = p();\n  return m(() => {\n    if (!(!o || !r.current))\n      return G(o, { type: \"global\" }, r.current);\n  }, [o]), /* @__PURE__ */ k(\n    \"div\",\n    {\n      ref: r,\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        ...n\n      },\n      ...t,\n      children: e\n    }\n  );\n}, Ge = ({\n  pageIndex: e,\n  children: n,\n  pageWidth: t,\n  pageHeight: r,\n  rotation: o,\n  scale: _,\n  convertEventToPoint: u,\n  style: a,\n  ...i\n}) => {\n  const c = T(null), { provides: g } = p(), te = Ve(), C = ie(\n    (w, ne) => {\n      const x = ne.getBoundingClientRect(), re = {\n        x: w.clientX - x.left,\n        y: w.clientY - x.top\n      };\n      return le(\n        { width: t, height: r },\n        re,\n        o,\n        _\n      );\n    },\n    [t, r, o, _]\n  );\n  return m(() => {\n    if (!(!g || !c.current))\n      return G(\n        g,\n        { type: \"page\", pageIndex: e },\n        c.current,\n        u || C\n      );\n  }, [g, e, u, C]), /* @__PURE__ */ k(\n    \"div\",\n    {\n      ref: c,\n      style: {\n        ...a\n      },\n      ...i,\n      children: [\n        n,\n        te && /* @__PURE__ */ k(\"div\", { style: { position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0, zIndex: 10 } })\n      ]\n    }\n  );\n};\nexport {\n  Ze as GlobalPointerProvider,\n  Ge as PagePointerProvider,\n  Fe as useCursor,\n  Be as useInteractionManager,\n  p as useInteractionManagerCapability,\n  je as useInteractionManagerPlugin,\n  Ve as useIsPageExclusive,\n  Te as usePointerHandlers\n};\n//# sourceMappingURL=index.js.map\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { ignore, PdfErrorCode, PdfPageGeometry, Position, Rect } from '@embedpdf/models';\nimport {\n  useCursor,\n  useInteractionManagerCapability,\n  usePointerHandlers,\n} from '@embedpdf/plugin-interaction-manager/react';\nimport { PointerEventHandlersWithLifecycle } from '@embedpdf/plugin-interaction-manager';\nimport { glyphAt } from '@embedpdf/plugin-selection';\n\nimport { useSelectionCapability } from '../hooks';\n\ntype Props = {\n  pageIndex: number;\n  scale: number;\n  background?: string;\n};\n\nexport function SelectionLayer({ pageIndex, scale, background = 'rgba(33,150,243)' }: Props) {\n  const { provides: sel } = useSelectionCapability();\n  const { provides: im } = useInteractionManagerCapability();\n  const { register } = usePointerHandlers({ pageIndex });\n  const [rects, setRects] = useState<Array<Rect>>([]);\n  const [boundingRect, setBoundingRect] = useState<Rect | null>(null);\n  const { setCursor, removeCursor } = useCursor();\n  const geoCacheRef = useRef<PdfPageGeometry | null>(null);\n\n  /* subscribe to rect updates */\n  useEffect(() => {\n    if (!sel) return;\n    return sel.onSelectionChange(() => {\n      const mode = im?.getActiveMode();\n      if (mode === 'default') {\n        setRects(sel.getHighlightRectsForPage(pageIndex));\n        setBoundingRect(sel.getBoundingRectForPage(pageIndex));\n      } else {\n        setRects([]);\n        setBoundingRect(null);\n      }\n    });\n  }, [sel, pageIndex]);\n\n  /* cheap glyphAt cache for the active page */\n  const cachedGlyphAt = useCallback((pt: Position) => {\n    const geo = geoCacheRef.current;\n    return geo ? glyphAt(geo, pt) : -1;\n  }, []);\n\n  // Initialize geometry cache\n  useEffect(() => {\n    if (!sel) return;\n    const task = sel.getGeometry(pageIndex);\n    task.wait((g) => (geoCacheRef.current = g), ignore);\n\n    return () => {\n      task.abort({\n        code: PdfErrorCode.Cancelled,\n        message: 'Cancelled',\n      });\n      geoCacheRef.current = null;\n    };\n  }, [sel, pageIndex]);\n\n  const handlers = useMemo(\n    (): PointerEventHandlersWithLifecycle<PointerEvent> => ({\n      onPointerDown: (point, _evt, modeId) => {\n        if (!sel) return;\n        if (!sel.isEnabledForMode(modeId)) return;\n        // clear the selection\n        sel.clear();\n        const task = sel.getGeometry(pageIndex);\n        task.wait((geo) => {\n          const g = glyphAt(geo, point);\n          if (g !== -1) sel.begin(pageIndex, g);\n        }, ignore);\n      },\n      onPointerMove: (point, _evt, modeId) => {\n        if (!sel) return;\n        if (!sel.isEnabledForMode(modeId)) return;\n        const g = cachedGlyphAt(point);\n        if (g !== -1) {\n          setCursor('selection-text', 'text', 10);\n        } else {\n          removeCursor('selection-text');\n        }\n        if (g !== -1) sel.update(pageIndex, g);\n      },\n      onPointerUp: (_point, _evt, modeId) => {\n        if (!sel) return;\n        if (!sel.isEnabledForMode(modeId)) return;\n        sel.end();\n      },\n      onHandlerActiveEnd(modeId) {\n        if (!sel) return;\n        if (!sel.isEnabledForMode(modeId)) return;\n\n        sel.clear();\n      },\n    }),\n    [sel, pageIndex, cachedGlyphAt],\n  );\n\n  useEffect(() => {\n    if (!register) return;\n    return register(handlers);\n  }, [register, handlers]);\n\n  if (!boundingRect) return null;\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        left: boundingRect.origin.x * scale,\n        top: boundingRect.origin.y * scale,\n        width: boundingRect.size.width * scale,\n        height: boundingRect.size.height * scale,\n        mixBlendMode: 'multiply',\n        isolation: 'isolate',\n      }}\n    >\n      {rects.map((b, i) => (\n        <div\n          key={i}\n          style={{\n            position: 'absolute',\n            left: (b.origin.x - boundingRect.origin.x) * scale,\n            top: (b.origin.y - boundingRect.origin.y) * scale,\n            width: b.size.width * scale,\n            height: b.size.height * scale,\n            background,\n            pointerEvents: 'none',\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n","import { useEffect } from 'react';\n\nimport { useSelectionCapability } from '../hooks';\n\nexport function CopyToClipboard() {\n  const { provides: sel } = useSelectionCapability();\n\n  useEffect(() => {\n    if (!sel) return;\n    return sel.onCopyToClipboard((text) => {\n      navigator.clipboard.writeText(text);\n    });\n  }, [sel]);\n\n  return null;\n}\n"],"names":["B","r","t","S","o","k","p","C","s","M","n","E","U","z","y","A","v","l","a","_","P","w","R","g","T","q","I","Z","G","J","x","K","Q","X","Y","O","D","N","V","F","m","W","ee","ae","useSelectionCapability","useCapability","SelectionPlugin","useSelectionPlugin","usePlugin","e","u","j","i","H","en","rn","un","on","cn","fn","c","an","sn","ce","b","h","f","se","fe","pe","ve","de","he","$","ye","me","ge","be","Pe","oe","ke","ue","Ce","we","L","xe","d","Ee","Oe","Se","Ie","Re","$e","Ne","Ue","Ae","Me","Fe","Te","SelectionLayer","pageIndex","scale","background","sel","im","useInteractionManagerCapability","register","usePointerHandlers","rects","setRects","useState","boundingRect","setBoundingRect","setCursor","removeCursor","useCursor","geoCacheRef","useRef","useEffect","cachedGlyphAt","useCallback","pt","geo","glyphAt","task","ignore","PdfErrorCode","handlers","useMemo","point","_evt","modeId","_point","jsx","CopyToClipboard","text"],"mappings":"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","x_google_ignoreList":[2]}