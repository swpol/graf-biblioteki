"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),y=require("../scroll-plugin-BGE-Zr8w.cjs"),S=Symbol("pdfKey");function v(){const o=e.inject(S);if(!o)throw new Error("useRegistry must be used inside <EmbedPDF>");return o}function m(o){const{registry:l}=v(),n=e.shallowRef(null),r=e.ref(!0),u=e.ref(new Promise(()=>{})),i=()=>{var t;if(!l.value)return;const s=l.value.getPlugin(o);if(!s)throw new Error(`Plugin ${o} not found`);n.value=s,r.value=!1,u.value=((t=s.ready)==null?void 0:t.call(s))??Promise.resolve()};return e.onMounted(i),e.watch(l,i),{plugin:n,isLoading:r,ready:u}}function k(o){const{plugin:l,isLoading:n,ready:r}=m(o);return{provides:e.computed(()=>{if(!l.value)return null;if(!l.value.provides)throw new Error(`Plugin ${o} does not implement provides()`);return l.value.provides()}),isLoading:n,ready:r}}const f=()=>m(y.ScrollPlugin.id),p=()=>k(y.ScrollPlugin.id);function B(){const{provides:o}=p(),l=e.ref(1),n=e.ref(1);return e.watchEffect(r=>{if(!o.value)return;const u=o.value.onPageChange(({pageNumber:i,totalPages:t})=>{l.value=i,n.value=t});r(u)}),{scroll:o,currentPage:l,totalPages:n}}const x=e.defineComponent({__name:"scroller",props:{style:{type:[Boolean,null,String,Object,Array]},overlayElements:{default:()=>[]}},setup(o){const l=o,n=e.useAttrs(),{provides:r}=p(),{plugin:u}=f(),{registry:i}=v(),t=e.ref(null);e.watchEffect(a=>{if(!r.value)return;t.value=r.value.getScrollerLayout();const c=r.value.onScrollerData(d=>t.value=d);a(c)}),e.onMounted(()=>{var a;(a=u.value)==null||a.setLayoutReady()});function s(a){const c=i.value.getStore().getState().core;return{...a,rotation:c.rotation,scale:c.scale,document:c.document}}const h=e.computed(()=>t.value?[typeof l.style=="object"&&!Array.isArray(l.style)?{...l.style}:l.style??{},{width:`${t.value.totalWidth}px`,height:`${t.value.totalHeight}px`,position:"relative",boxSizing:"border-box",margin:"0 auto",...t.value.strategy===y.ScrollStrategy.Horizontal&&{display:"flex",flexDirection:"row"}}]:l.style);return(a,c)=>t.value&&e.unref(i)?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,style:h.value},e.unref(n)),[t.value.strategy==="horizontal"?(e.openBlock(),e.createElementBlock("div",{key:0,style:e.normalizeStyle({width:t.value.startSpacing+"px",height:"100%",flexShrink:0})},null,4)):(e.openBlock(),e.createElementBlock("div",{key:1,style:e.normalizeStyle({height:t.value.startSpacing+"px",width:"100%"})},null,4)),e.createElementVNode("div",{style:e.normalizeStyle({gap:t.value.pageGap+"px",display:"flex",alignItems:"center",position:"relative",boxSizing:"border-box",flexDirection:t.value.strategy==="horizontal"?"row":"column",minHeight:t.value.strategy==="horizontal"?"100%":void 0,minWidth:t.value.strategy==="vertical"?"fit-content":void 0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.value.items,d=>(e.openBlock(),e.createElementBlock("div",{key:d.pageNumbers[0],style:e.normalizeStyle({display:"flex",justifyContent:"center",gap:t.value.pageGap+"px"})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.pageLayouts,g=>(e.openBlock(),e.createElementBlock("div",{key:g.pageNumber,style:e.normalizeStyle({width:g.rotatedWidth+"px",height:g.rotatedHeight+"px"})},[e.renderSlot(a.$slots,"default",{page:s(g)})],4))),128))],4))),128))],4),t.value.strategy==="horizontal"?(e.openBlock(),e.createElementBlock("div",{key:2,style:e.normalizeStyle({width:t.value.endSpacing+"px",height:"100%",flexShrink:0})},null,4)):(e.openBlock(),e.createElementBlock("div",{key:3,style:e.normalizeStyle({height:t.value.endSpacing+"px",width:"100%"})},null,4)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.overlayElements,(d,g)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d),{key:g}))),128))],16)):e.createCommentVNode("",!0)}});exports.Scroller=x;exports.useScroll=B;exports.useScrollCapability=p;exports.useScrollPlugin=f;
//# sourceMappingURL=index.cjs.map
