"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=require("preact"),c=require("preact/hooks"),f=require("../scroll-plugin-BGE-Zr8w.cjs"),p=require("../jsxRuntime.module-BSRTsKji.cjs");function Z(t,n){for(var e in n)t[e]=n[e];return t}function b(t,n){for(var e in t)if(e!=="__source"&&!(e in n))return!0;for(var o in n)if(o!=="__source"&&t[o]!==n[o])return!0;return!1}function S(t,n){this.props=t,this.context=n}(S.prototype=new l.Component).isPureReactComponent=!0,S.prototype.shouldComponentUpdate=function(t,n){return b(this.props,t)||b(this.state,n)};var P=l.options.__b;l.options.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),P&&P(t)};var G=l.options.__e;l.options.__e=function(t,n,e,o){if(t.then){for(var i,a=n;a=a.__;)if((i=a.__c)&&i.__c)return n.__e==null&&(n.__e=e.__e,n.__k=e.__k),i.__c(t,n)}G(t,n,e,o)};var k=l.options.unmount;function D(t,n,e){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(o){typeof o.__c=="function"&&o.__c()}),t.__c.__H=null),(t=Z({},t)).__c!=null&&(t.__c.__P===e&&(t.__c.__P=n),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(o){return D(o,n,e)})),t}function V(t,n,e){return t&&e&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(o){return V(o,n,e)}),t.__c&&t.__c.__P===n&&(t.__e&&e.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=e)),t}function y(){this.__u=0,this.o=null,this.__b=null}function j(t){var n=t.__.__c;return n&&n.__a&&n.__a(t)}function v(){this.i=null,this.l=null}l.options.unmount=function(t){var n=t.__c;n&&n.__R&&n.__R(),n&&32&t.__u&&(t.type=null),k&&k(t)},(y.prototype=new l.Component).__c=function(t,n){var e=n.__c,o=this;o.o==null&&(o.o=[]),o.o.push(e);var i=j(o.__v),a=!1,r=function(){a||(a=!0,e.__R=null,i?i(_):_())};e.__R=r;var _=function(){if(!--o.__u){if(o.state.__a){var u=o.state.__a;o.__v.__k[0]=V(u,u.__c.__P,u.__c.__O)}var s;for(o.setState({__a:o.__b=null});s=o.o.pop();)s.forceUpdate()}};o.__u++||32&n.__u||o.setState({__a:o.__b=o.__v.__k[0]}),t.then(r,r)},y.prototype.componentWillUnmount=function(){this.o=[]},y.prototype.render=function(t,n){if(this.__b){if(this.__v.__k){var e=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=D(this.__b,e,o.__O=o.__P)}this.__b=null}var i=n.__a&&l.createElement(l.Fragment,null,t.fallback);return i&&(i.__u&=-33),[l.createElement(l.Fragment,null,n.__a?null:t.children),i]};var C=function(t,n,e){if(++e[1]===e[0]&&t.l.delete(n),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(e=t.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;t.i=e=e[2]}};(v.prototype=new l.Component).__a=function(t){var n=this,e=j(n.__v),o=n.l.get(t);return o[0]++,function(i){var a=function(){n.props.revealOrder?(o.push(i),C(n,t,o)):i()};e?e(a):a()}},v.prototype.render=function(t){this.i=null,this.l=new Map;var n=l.toChildArray(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&n.reverse();for(var e=n.length;e--;)this.l.set(n[e],this.i=[1,0,this.i]);return t.children},v.prototype.componentDidUpdate=v.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(n,e){C(t,e,n)})};var J=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,K=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Q=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,X=/[A-Z0-9]/g,Y=typeof document<"u",tt=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};l.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(l.Component.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var w=l.options.event;function et(){}function nt(){return this.cancelBubble}function ot(){return this.defaultPrevented}l.options.event=function(t){return w&&(t=w(t)),t.persist=et,t.isPropagationStopped=nt,t.isDefaultPrevented=ot,t.nativeEvent=t};var rt={enumerable:!1,configurable:!0,get:function(){return this.class}},x=l.options.vnode;l.options.vnode=function(t){typeof t.type=="string"&&function(n){var e=n.props,o=n.type,i={},a=o.indexOf("-")===-1;for(var r in e){var _=e[r];if(!(r==="value"&&"defaultValue"in e&&_==null||Y&&r==="children"&&o==="noscript"||r==="class"||r==="className")){var u=r.toLowerCase();r==="defaultValue"&&"value"in e&&e.value==null?r="value":r==="download"&&_===!0?_="":u==="translate"&&_==="no"?_=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?r="ondblclick":u!=="onchange"||o!=="input"&&o!=="textarea"||tt(e.type)?u==="onfocus"?r="onfocusin":u==="onblur"?r="onfocusout":Q.test(r)&&(r=u):u=r="oninput":a&&K.test(r)?r=r.replace(X,"-$&").toLowerCase():_===null&&(_=void 0),u==="oninput"&&i[r=u]&&(r="oninputCapture"),i[r]=_}}o=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=l.toChildArray(e.children).forEach(function(s){s.props.selected=i.value.indexOf(s.props.value)!=-1})),o=="select"&&i.defaultValue!=null&&(i.value=l.toChildArray(e.children).forEach(function(s){s.props.selected=i.multiple?i.defaultValue.indexOf(s.props.value)!=-1:i.defaultValue==s.props.value})),e.class&&!e.className?(i.class=e.class,Object.defineProperty(i,"className",rt)):(e.className&&!e.class||e.class&&e.className)&&(i.class=i.className=e.className),n.props=i}(t),t.$$typeof=J,x&&x(t)};var E=l.options.__r;l.options.__r=function(t){E&&E(t),t.__c};var O=l.options.diffed;l.options.diffed=function(t){O&&O(t);var n=t.props,e=t.__e;e!=null&&t.type==="textarea"&&"value"in n&&n.value!==e.value&&(e.value=n.value==null?"":n.value)};const it=l.createContext({registry:null,isInitializing:!0,pluginsReady:!1});function F(){const t=c.useContext(it);if(t===void 0)throw new Error("useCapability must be used within a PDFContext.Provider");const{registry:n,isInitializing:e}=t;if(e)return t;if(n===null)throw new Error("PDF registry failed to initialize properly");return t}function M(t){const{registry:n}=F();if(n===null)return{plugin:null,isLoading:!0,ready:new Promise(()=>{})};const e=n.getPlugin(t);if(!e)throw new Error(`Plugin ${t} not found`);return{plugin:e,isLoading:!1,ready:e.ready()}}function lt(t){const{plugin:n,isLoading:e,ready:o}=M(t);if(!n)return{provides:null,isLoading:e,ready:o};if(!n.provides)throw new Error(`Plugin ${t} does not provide a capability`);return{provides:n.provides(),isLoading:e,ready:o}}function ut(t,n){for(var e in n)t[e]=n[e];return t}function $(t,n){for(var e in t)if(e!=="__source"&&!(e in n))return!0;for(var o in n)if(o!=="__source"&&t[o]!==n[o])return!0;return!1}function N(t,n){this.props=t,this.context=n}(N.prototype=new l.Component).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(t,n){return $(this.props,t)||$(this.state,n)};var R=l.options.__b;l.options.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),R&&R(t)};var at=l.options.__e;l.options.__e=function(t,n,e,o){if(t.then){for(var i,a=n;a=a.__;)if((i=a.__c)&&i.__c)return n.__e==null&&(n.__e=e.__e,n.__k=e.__k),i.__c(t,n)}at(t,n,e,o)};var A=l.options.unmount;function T(t,n,e){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(o){typeof o.__c=="function"&&o.__c()}),t.__c.__H=null),(t=ut({},t)).__c!=null&&(t.__c.__P===e&&(t.__c.__P=n),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(o){return T(o,n,e)})),t}function q(t,n,e){return t&&e&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(o){return q(o,n,e)}),t.__c&&t.__c.__P===n&&(t.__e&&e.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=e)),t}function m(){this.__u=0,this.o=null,this.__b=null}function B(t){var n=t.__.__c;return n&&n.__a&&n.__a(t)}function h(){this.i=null,this.l=null}l.options.unmount=function(t){var n=t.__c;n&&n.__R&&n.__R(),n&&32&t.__u&&(t.type=null),A&&A(t)},(m.prototype=new l.Component).__c=function(t,n){var e=n.__c,o=this;o.o==null&&(o.o=[]),o.o.push(e);var i=B(o.__v),a=!1,r=function(){a||(a=!0,e.__R=null,i?i(_):_())};e.__R=r;var _=function(){if(!--o.__u){if(o.state.__a){var u=o.state.__a;o.__v.__k[0]=q(u,u.__c.__P,u.__c.__O)}var s;for(o.setState({__a:o.__b=null});s=o.o.pop();)s.forceUpdate()}};o.__u++||32&n.__u||o.setState({__a:o.__b=o.__v.__k[0]}),t.then(r,r)},m.prototype.componentWillUnmount=function(){this.o=[]},m.prototype.render=function(t,n){if(this.__b){if(this.__v.__k){var e=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=T(this.__b,e,o.__O=o.__P)}this.__b=null}var i=n.__a&&l.createElement(l.Fragment,null,t.fallback);return i&&(i.__u&=-33),[l.createElement(l.Fragment,null,n.__a?null:t.children),i]};var U=function(t,n,e){if(++e[1]===e[0]&&t.l.delete(n),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(e=t.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;t.i=e=e[2]}};(h.prototype=new l.Component).__a=function(t){var n=this,e=B(n.__v),o=n.l.get(t);return o[0]++,function(i){var a=function(){n.props.revealOrder?(o.push(i),U(n,t,o)):i()};e?e(a):a()}},h.prototype.render=function(t){this.i=null,this.l=new Map;var n=l.toChildArray(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&n.reverse();for(var e=n.length;e--;)this.l.set(n[e],this.i=[1,0,this.i]);return t.children},h.prototype.componentDidUpdate=h.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(n,e){U(t,e,n)})};var _t=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,st=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ct=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,pt=/[A-Z0-9]/g,ft=typeof document<"u",dt=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};l.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(l.Component.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var H=l.options.event;function vt(){}function ht(){return this.cancelBubble}function yt(){return this.defaultPrevented}l.options.event=function(t){return H&&(t=H(t)),t.persist=vt,t.isPropagationStopped=ht,t.isDefaultPrevented=yt,t.nativeEvent=t};var mt={enumerable:!1,configurable:!0,get:function(){return this.class}},L=l.options.vnode;l.options.vnode=function(t){typeof t.type=="string"&&function(n){var e=n.props,o=n.type,i={},a=o.indexOf("-")===-1;for(var r in e){var _=e[r];if(!(r==="value"&&"defaultValue"in e&&_==null||ft&&r==="children"&&o==="noscript"||r==="class"||r==="className")){var u=r.toLowerCase();r==="defaultValue"&&"value"in e&&e.value==null?r="value":r==="download"&&_===!0?_="":u==="translate"&&_==="no"?_=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?r="ondblclick":u!=="onchange"||o!=="input"&&o!=="textarea"||dt(e.type)?u==="onfocus"?r="onfocusin":u==="onblur"?r="onfocusout":ct.test(r)&&(r=u):u=r="oninput":a&&st.test(r)?r=r.replace(pt,"-$&").toLowerCase():_===null&&(_=void 0),u==="oninput"&&i[r=u]&&(r="oninputCapture"),i[r]=_}}o=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=l.toChildArray(e.children).forEach(function(s){s.props.selected=i.value.indexOf(s.props.value)!=-1})),o=="select"&&i.defaultValue!=null&&(i.value=l.toChildArray(e.children).forEach(function(s){s.props.selected=i.multiple?i.defaultValue.indexOf(s.props.value)!=-1:i.defaultValue==s.props.value})),e.class&&!e.className?(i.class=e.class,Object.defineProperty(i,"className",mt)):(e.className&&!e.class||e.class&&e.className)&&(i.class=i.className=e.className),n.props=i}(t),t.$$typeof=_t,L&&L(t)};var z=l.options.__r;l.options.__r=function(t){z&&z(t),t.__c};var W=l.options.diffed;l.options.diffed=function(t){W&&W(t);var n=t.props,e=t.__e;e!=null&&t.type==="textarea"&&"value"in n&&n.value!==e.value&&(e.value=n.value==null?"":n.value)};const I=()=>M(f.ScrollPlugin.id),g=()=>lt(f.ScrollPlugin.id),gt=()=>{const{provides:t}=g(),[n,e]=c.useState(1),[o,i]=c.useState(1);return c.useEffect(()=>{if(t)return t.onPageChange(({pageNumber:a,totalPages:r})=>{e(a),i(r)})},[t]),{...t,currentPage:n,totalPages:o}};function bt({renderPage:t,overlayElements:n,...e}){const{provides:o}=g(),{plugin:i}=I(),{registry:a}=F(),[r,_]=c.useState(()=>(o==null?void 0:o.getScrollerLayout())??null);if(c.useEffect(()=>{if(o)return o.onScrollerData(_)},[o]),c.useEffect(()=>{i&&i.setLayoutReady()},[i]),!r||!a)return null;const u=a.getStore().getState();return p.u("div",{...e,style:{width:`${r.totalWidth}px`,height:`${r.totalHeight}px`,position:"relative",boxSizing:"border-box",margin:"0 auto",...r.strategy===f.ScrollStrategy.Horizontal&&{display:"flex",flexDirection:"row"}},children:[p.u("div",{style:{...r.strategy===f.ScrollStrategy.Horizontal?{width:r.startSpacing,height:"100%",flexShrink:0}:{height:r.startSpacing,width:"100%"}}}),p.u("div",{style:{gap:r.pageGap,display:"flex",alignItems:"center",position:"relative",boxSizing:"border-box",...r.strategy===f.ScrollStrategy.Horizontal?{flexDirection:"row",minHeight:"100%"}:{flexDirection:"column",minWidth:"fit-content"}},children:r.items.map(s=>p.u("div",{style:{display:"flex",justifyContent:"center",gap:r.pageGap},children:s.pageLayouts.map(d=>p.u("div",{style:{width:`${d.rotatedWidth}px`,height:`${d.rotatedHeight}px`},children:t({...d,rotation:u.core.rotation,scale:u.core.scale,document:u.core.document})},d.pageNumber))},s.pageNumbers[0]))}),p.u("div",{style:{...r.strategy===f.ScrollStrategy.Horizontal?{width:r.endSpacing,height:"100%",flexShrink:0}:{height:r.endSpacing,width:"100%"}}}),n]})}exports.Scroller=bt;exports.useScroll=gt;exports.useScrollCapability=g;exports.useScrollPlugin=I;
//# sourceMappingURL=index.cjs.map
