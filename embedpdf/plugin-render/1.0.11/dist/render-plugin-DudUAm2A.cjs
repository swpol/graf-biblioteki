"use strict";var m="­",F="​",y="⁠",w="\uFEFF",D="￾",v="￿",A=Object.freeze([m,F,y,w,D,v]);new RegExp(`[${A.join("")}]`,"g");var b=Object.freeze([{id:0,label:"Normal",css:"normal"},{id:1,label:"Multiply",css:"multiply"},{id:2,label:"Screen",css:"screen"},{id:3,label:"Overlay",css:"overlay"},{id:4,label:"Darken",css:"darken"},{id:5,label:"Lighten",css:"lighten"},{id:6,label:"Color Dodge",css:"color-dodge"},{id:7,label:"Color Burn",css:"color-burn"},{id:8,label:"Hard Light",css:"hard-light"},{id:9,label:"Soft Light",css:"soft-light"},{id:10,label:"Difference",css:"difference"},{id:11,label:"Exclusion",css:"exclusion"},{id:12,label:"Hue",css:"hue"},{id:13,label:"Saturation",css:"saturation"},{id:14,label:"Color",css:"color"},{id:15,label:"Luminosity",css:"luminosity"}]);b.reduce((e,t)=>(e[t.id]=t,e),{});b.reduce((e,t)=>(e[t.css]=t.id,e),{});b.map(e=>({value:e.id,label:e.label}));var k=Object.freeze({1:"invisible",2:"hidden",4:"print",8:"noZoom",16:"noRotate",32:"noView",64:"readOnly",128:"locked",256:"toggleNoView"});Object.entries(k).reduce((e,[t,i])=>(e[i]=Number(t),e),{});class N{constructor(t,i){if(this.id=t,this.registry=i,this.debouncedActions={},this.unsubscribeFromState=null,this.unsubscribeFromCoreStore=null,t!==this.constructor.id)throw new Error(`Plugin ID mismatch: ${t} !== ${this.constructor.id}`);this.coreStore=this.registry.getStore(),this.pluginStore=this.coreStore.getPluginStore(this.id),this.unsubscribeFromState=this.pluginStore.subscribeToState((n,s,a)=>{this.onStoreUpdated(a,s)}),this.unsubscribeFromCoreStore=this.coreStore.subscribe((n,s,a)=>{this.onCoreStoreUpdated(a,s)}),this.readyPromise=new Promise(n=>{this.readyResolve=n}),this.readyResolve()}provides(){if(!this._capability){const t=this.buildCapability();this._capability=Object.freeze(t)}return this._capability}get state(){return this.pluginStore.getState()}get coreState(){return this.coreStore.getState()}getState(){return this.pluginStore.getState()}getCoreState(){return this.coreStore.getState()}dispatchCoreAction(t){return this.coreStore.dispatchToCore(t)}dispatchToAllPlugins(t){return this.coreStore.dispatch(t)}dispatch(t){return this.pluginStore.dispatch(t)}debouncedDispatch(t,i=100){const n=Date.now(),s=this.debouncedActions[t.type]||0;return n-s>=i?(this.debouncedActions[t.type]=n,this.dispatch(t),!0):!1}subscribe(t){return this.pluginStore.subscribeToState(t)}subscribeToCoreStore(t){return this.coreStore.subscribe(t)}onStoreUpdated(t,i){}onCoreStoreUpdated(t,i){}destroy(){this.unsubscribeFromState&&(this.unsubscribeFromState(),this.unsubscribeFromState=null),this.unsubscribeFromCoreStore&&(this.unsubscribeFromCoreStore(),this.unsubscribeFromCoreStore=null)}ready(){return this.readyPromise}markReady(){this.readyResolve()}resetReady(){this.readyPromise=new Promise(t=>{this.readyResolve=t})}}var u=(e=>(e[e.Degree0=0]="Degree0",e[e.Degree90=1]="Degree90",e[e.Degree180=2]="Degree180",e[e.Degree270=3]="Degree270",e))(u||{}),O="­",L="​",R="⁠",x="\uFEFF",z="￾",j="￿",I=Object.freeze([O,L,R,x,z,j]);new RegExp(`[${I.join("")}]`,"g");var g=Object.freeze([{id:0,label:"Normal",css:"normal"},{id:1,label:"Multiply",css:"multiply"},{id:2,label:"Screen",css:"screen"},{id:3,label:"Overlay",css:"overlay"},{id:4,label:"Darken",css:"darken"},{id:5,label:"Lighten",css:"lighten"},{id:6,label:"Color Dodge",css:"color-dodge"},{id:7,label:"Color Burn",css:"color-burn"},{id:8,label:"Hard Light",css:"hard-light"},{id:9,label:"Soft Light",css:"soft-light"},{id:10,label:"Difference",css:"difference"},{id:11,label:"Exclusion",css:"exclusion"},{id:12,label:"Hue",css:"hue"},{id:13,label:"Saturation",css:"saturation"},{id:14,label:"Color",css:"color"},{id:15,label:"Luminosity",css:"luminosity"}]);g.reduce((e,t)=>(e[t.id]=t,e),{});g.reduce((e,t)=>(e[t.css]=t.id,e),{});g.map(e=>({value:e.id,label:e.label}));var T=Object.freeze({1:"invisible",2:"hidden",4:"print",8:"noZoom",16:"noRotate",32:"noView",64:"readOnly",128:"locked",256:"toggleNoView"});Object.entries(T).reduce((e,[t,i])=>(e[i]=Number(t),e),{});var p=(e=>(e[e.Ok=0]="Ok",e[e.Unknown=1]="Unknown",e[e.NotFound=2]="NotFound",e[e.WrongFormat=3]="WrongFormat",e[e.Password=4]="Password",e[e.Security=5]="Security",e[e.PageError=6]="PageError",e[e.XFALoad=7]="XFALoad",e[e.XFALayout=8]="XFALayout",e[e.Cancelled=9]="Cancelled",e[e.Initialization=10]="Initialization",e[e.NotReady=11]="NotReady",e[e.NotSupport=12]="NotSupport",e[e.LoadDoc=13]="LoadDoc",e[e.DocNotOpen=14]="DocNotOpen",e[e.CantCloseDoc=15]="CantCloseDoc",e[e.CantCreateNewDoc=16]="CantCreateNewDoc",e[e.CantImportPages=17]="CantImportPages",e[e.CantCreateAnnot=18]="CantCreateAnnot",e[e.CantSetAnnotRect=19]="CantSetAnnotRect",e[e.CantSetAnnotContent=20]="CantSetAnnotContent",e[e.CantRemoveInkList=21]="CantRemoveInkList",e[e.CantAddInkStoke=22]="CantAddInkStoke",e[e.CantReadAttachmentSize=23]="CantReadAttachmentSize",e[e.CantReadAttachmentContent=24]="CantReadAttachmentContent",e[e.CantFocusAnnot=25]="CantFocusAnnot",e[e.CantSelectText=26]="CantSelectText",e[e.CantSelectOption=27]="CantSelectOption",e[e.CantCheckField=28]="CantCheckField",e))(p||{});function C(){}const S=class S extends N{constructor(t,i,n){super(t,i),this.engine=n}async initialize(t){}buildCapability(){return{renderPage:this.renderPage.bind(this),renderPageRect:this.renderPageRect.bind(this)}}renderPage({pageIndex:t,scaleFactor:i=1,dpr:n=1,rotation:s=u.Degree0,options:a={withAnnotations:!1},imageType:r="image/webp"}){const l=this.coreState.core;if(!l.document)throw new Error("document does not open");const c=l.document.pages.find(o=>o.index===t);if(!c)throw new Error("page does not exist");return this.engine.renderPage(l.document,c,i,s,n,a,r)}renderPageRect({pageIndex:t,scaleFactor:i=1,dpr:n=1,rect:s,rotation:a=u.Degree0,options:r={withAnnotations:!1},imageType:l="image/webp"}){const c=this.coreState.core;if(!c.document)throw new Error("document does not open");const o=c.document.pages.find(d=>d.index===t);if(!o)throw new Error("page does not exist");return this.engine.renderPageRect(c.document,o,i,a,n,s,r,l)}};S.id="render";let h=S;exports.PdfErrorCode=p;exports.RenderPlugin=h;exports.ignore=C;
//# sourceMappingURL=render-plugin-DudUAm2A.cjs.map
